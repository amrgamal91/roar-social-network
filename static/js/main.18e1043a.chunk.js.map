{"version":3,"sources":["util/apiConfig.js","chat-client/websocket.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/types.js","redux/actions/userActions.js","util/CustomButton.js","redux/actions/dataAction.js","components/roar/LikeButton.js","components/roar/DeleteRoar.js","components/roar/Comments.js","components/roar/CommentForm.js","components/roar/RoarDialog.js","components/roar/Roar.js","util/ProfileSkeleton.js","components/profile/EditDetails.js","components/profile/Profile.js","util/RoarSkeleton.js","chat-client/MessageWindow.jsx","chat-client/TextBar.jsx","components/chat/ChatBox.js","pages/home.js","pages/login.js","pages/signup.js","components/profile/StaticProfile.js","pages/user.js","components/roar/PostRoar.js","components/layout/Notifications.js","components/layout/NavBar.js","util/theme.js","util/AuthRoute.js","App.js","serviceWorker.js","index.js","images/brandLogo.png","images/no-img.png"],"names":["module","exports","apiKey","authDomain","send","onMessageCallback","initialState","authenticated","credentials","likes","loading","notifications","roars","roar","errors","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","userHandle","handle","roarId","filter","like","forEach","not","read","data","index","findIndex","likeCount","roarIndex","splice","commentCount","comments","UI","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","logoutUser","dispatch","localStorage","removeItem","axios","defaults","headers","common","getUserData","get","then","res","catch","err","console","log","setAuthorizationHeader","token","FBIdToken","setItem","children","onClick","tip","btnClassName","tipClassName","Tooltip","title","className","placement","IconButton","likeRoar","unlikeRoar","clearErrors","LikeButton","likedRoar","props","find","this","CustomButton","color","to","Component","mapActionsToProps","connect","DeleteRoar","open","handleOpen","setState","handleClose","deleteRoar","classes","deleteButton","Dialog","onClose","fullWidth","maxWidth","DialogTitle","DialogActions","Button","delete","withStyles","theme","Comments","Grid","container","length","map","comment","body","createdAt","userImage","key","item","sm","commentBlock","xs","src","alt","commentImage","commentData","Typography","variant","component","Link","dayjs","format","invisibleSeparator","variabnt","CommentForm","handleChange","event","target","name","value","handleSubmit","preventDefault","submitComment","nextProps","onSubmit","TextField","label","error","helperText","onChange","textField","button","post","response","RoarDialog","oldPath","newPath","location","pathname","history","pushState","getRoar","forceUpdate","openDialog","dialogMarkup","spinnerDiv","CircularProgress","size","thickness","spacing","profileImage","roarbuttons","visibleSeparator","expandButton","closeButton","DialogContent","dialogContent","roarDialog","Roar","extend","relativeTime","Card","card","CardMedia","image","CardContent","content","userhandle","fromNow","profileSkeleton","Paper","paper","profile","NoImg","fullLine","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","multiline","rows","inputProps","maxLength","placeholder","editDetails","Profile","handleImageChange","files","formData","FormData","append","uploadImage","handleEditPricture","document","getElementById","click","handleLogout","imageUrl","id","hidden","visibleColoredSeparator","style","display","userDetailsIcons","labels","profileInfoItem","href","rel","align","buttons","styleToSpread","roarSkeleton","Array","from","cover","cardContent","date","halfLine","Message","text","username","self","MessageWindow","messageWindow","React","createRef","current","scrollTop","scrollHeight","clientHeight","messages","ref","msg","i","TextBar","input","definedUser","onSend","userName","e","keyCode","sendMessage","bind","sendMessageIfEnter","onKeyDown","host","ChatBox","fn","onMessageReceived","JSON","parse","concat","message","stringify","setUserName","home","getRoars","recentRoarsMarkup","firebase","initializeApp","apiConfig","login","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","callbacks","signInSuccessWithAuthResult","credential","redirectUrl","getIdToken","newUserData","email","displayName","uid","photoURL","handleSocialUser","userData","password","loginUser","justify","form","AppIcon","pageTitle","noValidate","general","customError","disabled","progress","firebaseAuth","idtoken","push","signup","confirmPassword","signupUser","handlhandleChange","staticProfile","roarIdParam","match","params","roarsMarkup","PostRoar","postRoar","submitButton","progressSpinner","newRoar","Notifications","anchorEl","onMenuOpened","unreadNotificationsIds","notificationId","markNotificationsRead","notificationsIcon","Badge","badgeContent","notificationsMarkup","verb","time","iconColor","icon","marginRight","MenuItem","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","notificationIds","Navbar","AppBar","Toolbar","Avatar","logo","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","border","margin","width","borderBottom","marginBottom","marginTop","typography","useNextVariants","position","paddingTop","paddingBottom","paddingRight","paddingLeft","marginLeft","paperHints","order","flexWrap","textAlign","top","left","height","objectFit","borderRadius","verticalAlign","fontFamily","marignRight","cursor","root","flexGrow","justifyContent","fontWeight","fontSize","float","padding","minWidth","alignItems","backgroundColor","flexDirection","rest","render","ReactGA","initialize","pageview","search","themeFile","baseURL","getItem","jwtDecode","exp","Date","now","App","NavBar","exact","path","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","ws","WebSocket","onopen","onclose","code","reason","onmessage","startWebsocketConnection"],"mappings":"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","file":"static/js/main.18e1043a.chunk.js","sourcesContent":["module.exports = {\n    apiKey: \"AIzaSyAMVIE451Q0Fj_oz9kQHwWUF-hz5HDodZs\",\n    authDomain: \"socialapp-dfb2e.firebaseapp.com\",\n   \n  };","//reference : https://codetree.dev/react-websocket-chat-application/\n// The server host is determined based on the mode\n// If the app is running in development mode (using npm start)\n// then we set the host to \"localhost:8080\"\n// If the app is in production mode (using npm run build)\n// then the host is the current browser host\nconst host = process.env.NODE_ENV === 'production' ? window.location.host : 'localhost:8080'\n\n// We create an exported variable `send`, that we will assign\n// later (just know that it is exported for now)\nexport let send\n// The onMessageCallback is also assigned later, as we will soon see\nlet onMessageCallback\n\n// This exported function is used to initialize the websocket connection\n// to the server\nexport const startWebsocketConnection = () => {\n  // A new Websocket connection is initialized with the server\n  const ws = new window.WebSocket('ws://' + host + '/chat') || {}\n\n  // If the connection is successfully opened, we log to the console\n  ws.onopen = () => {\n    console.log('opened ws connection')\n  }\n\n  // If the connection is closed, we log that as well, along with\n  // the error code and reason for closure\n  ws.onclose = (e) => {\n    console.log('close ws connection: ', e.code, e.reason)\n  }\n\n  // This callback is called everytime a message is received.\n  ws.onmessage = (e) => {\n    // The onMessageCallback function is called with the message\n    // data as the argument\n    onMessageCallback && onMessageCallback(e.data)\n  }\n\n  // We assign the send method of the connection to the exported\n  // send variable that we defined earlier\n  console.log(\"ws host .....\"+host);\n  send = ws.send.bind(ws);\n  \n}\n\n// This function is called by our React application to register a callback\n// that needs to be called everytime a new message is received\nexport const registerOnMessageCallback = (fn) => {\n  // The callback function is supplied as an argument and assigned to the \n  // `onMessageCallback` variable we declared earlier\n  onMessageCallback = fn\n}\n\n\n","import {\n  SET_USER,\n  SET_AUTHENTICATED,\n  SET_UNAUTHENTICATED,\n  LOADING_USER,\n  LIKE_ROAR,\n  UNLIKE_ROAR,\n  MARK_NOTIFICATIONS_READ\n} from \"../types\";\n\nconst initialState = {\n  authenticated: false,\n  credentials: {},\n  likes: [],\n  loading: false,\n  notifications: []\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_AUTHENTICATED:\n      return {\n        ...state,\n        authenticated: true\n      };\n    case SET_UNAUTHENTICATED:\n      return initialState;\n    case SET_USER:\n      return {\n        authenticated: true,\n        loading: false,\n        ...action.payload\n      };\n    case LOADING_USER:\n      return {\n        ...state,\n        loading: true\n      };\n    case LIKE_ROAR:\n      return {\n        ...state,\n        likes: [\n          ...state.likes,\n          {\n            userHandle: state.credentials.handle,\n            roarId: action.payload.roarId\n          }\n        ]\n      };\n    case UNLIKE_ROAR:\n      return {\n        ...state,\n        likes: state.likes.filter(like => like.roarId !== action.payload.roarId)\n      };\n    case MARK_NOTIFICATIONS_READ:\n      state.notifications.forEach(not => (not.read = true));\n      return {\n        ...state\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  SET_ROARS,\n  LIKE_ROAR,\n  UNLIKE_ROAR,\n  LOADING_DATA,\n  DELETE_ROAR,\n  POST_ROAR,\n  SET_ROAR,\n  SUBMIT_COMMENT\n} from \"../types\";\n\nconst initialState = {\n  roars: [],\n  roar: {},\n  loading: false\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case LOADING_DATA:\n      return {\n        ...state,\n        loading: true\n      };\n    case SET_ROARS:\n      return {\n        ...state,\n        roars: action.payload,\n        loading: false\n      };\n    case SET_ROAR:\n      return {\n        ...state,\n        roar: action.payload\n      };\n    case LIKE_ROAR:\n    case UNLIKE_ROAR:\n      let index = state.roars.findIndex(\n        roar => roar.roarId === action.payload.roarId\n      );\n      state.roars[index] = action.payload;\n      if (state.roar.roarId === action.payload.roarId) {\n        state.roar.likeCount = action.payload.likeCount; //bugfix: only update the likecount not the whole roar\n      }\n      return {\n        ...state\n        // likeCount: state.roar.likeCount + 1 //bugfix: update like counter in the roar dialog immediately\n      };\n    case DELETE_ROAR:\n      let roarIndex = state.roars.findIndex(\n        roar => roar.roarId === action.payload\n      );\n      state.roars.splice(roarIndex, 1);\n      return { ...state };\n    case POST_ROAR:\n      return { ...state, roars: [action.payload, ...state.roars] };\n    case SUBMIT_COMMENT:\n      return {\n        ...state,\n        roar: {\n          ...state.roar,\n          commentCount: state.roar.commentCount + 1, //bugfix: update like counter in the roar dialog immediately\n          comments: [action.payload, ...state.roar.comments]\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  SET_ERRORS,\n  CLEAR_ERRORS,\n  LOADING_UI,\n  STOP_LOADING_UI\n} from \"../types\";\n\nconst initialState = {\n  loading: false,\n  errors: null\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_ERRORS:\n      return {\n        ...state,\n        loading: false,\n        errors: action.payload\n      };\n    case CLEAR_ERRORS:\n      return {\n        ...state,\n        loading: false,\n        errors: null\n      };\n    case LOADING_UI:\n      return {\n        ...state,\n        loading: true\n      };\n    case STOP_LOADING_UI:\n      return {\n        ...state,\n        loading: false\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\n// Reducers\nimport userReducer from \"./reducers/userReducer\";\nimport dataReducer from \"./reducers/dataReducer\";\nimport uiReducer from \"./reducers/uiReducer\";\n\n/**\n * initialize the following :\n * a- initialState\n * b- middle ware\n * c- Reducers  (combine all reducers in only one )\n */\nconst initialState = {};\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n  user: userReducer,\n  data: dataReducer,\n  UI: uiReducer\n});\n\n/**\n * store Creation (reducers , initialState , middlewarex)\n */\n// let store;\n// if (window.navigator.userAgent.includes(\"Chrome\")) {\n//   store = createStore(\n//     reducers,\n//     initialState,\n//     compose(\n//       applyMiddleware(...middleware),\n//       window.__REDUX_DEVTOOLS_EXTENSION__ &&\n//         window.__REDUX_DEVTOOLS_EXTENSION__()\n//     )\n//   );\n// } else {\n//   store = createStore(\n//     reducers,\n//     initialState,\n//     compose(applyMiddleware(...middleware))\n//   );\n// }\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(...middleware)\n  // other store enhancers if any\n);\nconst store = createStore(reducers, initialState, enhancer);\n\n// let enhancer;\n// if (__DEV__) {\n//   const composeEnhancers =\n//     typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n//       ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()\n//       : compose;\n\n//   enhancer = composeEnhancers(\n//     applyMiddleware(thunk),\n//     applyMiddleware(middleware)\n//   );\n// } else {\n//   enhancer = compose(\n//     applyMiddleware(thunk),\n//     applyMiddleware(middleware)\n//   );\n// }\n\n// const store = createStore(reducers, initialState, enhancer);\n\nexport default store;\n","//user reducer types\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const SET_USER = \"SET_USER\";\nexport const LOADING_USER = \"LOADING_USER\";\nexport const MARK_NOTIFICATIONS_READ = \"MARK_NOTIFICATIONS_READ\";\n\n//UI reduce types\nexport const SET_ERRORS = \"SET_ERRORS\";\nexport const LOADING_UI = \"LOADING_UI\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\nexport const LOADING_DATA = \"LOADING_DATA\";\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\n\n//Data reducer types\nexport const SET_ROARS = \"SET_ROARS\";\nexport const SET_ROAR = \"SET_ROAR\";\nexport const LIKE_ROAR = \"LIKE_ROAR\";\nexport const UNLIKE_ROAR = \"UNLIKE_ROAR\";\nexport const DELETE_ROAR = \"DELETE_ROAR\";\nexport const POST_ROAR = \"POST_ROAR\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";\n","//done\nimport {\n  SET_USER,\n  SET_ERRORS,\n  CLEAR_ERRORS,\n  LOADING_UI,\n  LOADING_USER,\n  SET_UNAUTHENTICATED,\n  MARK_NOTIFICATIONS_READ\n} from \"../types\";\nimport axios from \"axios\";\n\n/**\n * call login user api , then\n * set set authorization header value to the received token ,then\n * get the user data ,\n */\nexport const loginUser = (userData, history) => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/login\",\n      userData\n    )\n    .then(res => {\n      setAuthorizationHeader(res.data.idtoken);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/roar-social-network\"); //optional as in authRout it redirected to \"/\"\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n/**\n * 1- removes the authorization token\n * 2- removes the authorization header from request headers\n * 3- back to initial state in Redux user reducer\n */\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"FBIdToken\");\n  localStorage.removeItem(\"FireBaseIdToken\");\n  localStorage.removeItem(\"firebaseui::rememberedAccounts\");\n  delete axios.defaults.headers.common[\"Authorization\"];\n  dispatch({ type: SET_UNAUTHENTICATED });\n};\n\n/**\n * get the userdata from server and then ,\n * update the current state with the new data\n */\nexport const getUserData = () => dispatch => {\n  dispatch({ type: LOADING_USER });\n  axios\n    .get(\"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/user\")\n    .then(res => {\n      dispatch({\n        type: SET_USER,\n        payload: res.data // payload is some data sent to reducer\n      });\n    })\n    .catch(err => console.log(\"Error while getting user data ! : \" + err));\n};\n\n/**\n * call signup user api , then\n * set set authorization header value to the received token ,then\n * get the user data ,\n */\nexport const signupUser = (newUserData, history) => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/signup\",\n      newUserData\n    )\n    .then(res => {\n      // console.log(\"signUp data : \" + JSON.stringify(res));\n      setAuthorizationHeader(res.data.token);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/roar-social-network\");\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\nexport const handleSocialUser = (newUserData, history) => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/handleSocialUser\",\n      newUserData\n    )\n    .then(res => {\n      // console.log(\"signUp data : \" + JSON.stringify(res));\n      setAuthorizationHeader(newUserData.token);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/roar-social-network\");\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n/**\n * upload images changes in userData (imageUrl) so\n * after uploading the image file , it should back with user new data\n * that contains the new ImageUrl (updating the state)\n */\nexport const uploadImage = formData => dispatch => {\n  dispatch({ type: LOADING_USER });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/user/image\",\n      formData\n    )\n    .then(res => {\n      dispatch(getUserData());\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n * updates the user details with the new values\n * get the updated userdetails in the response\n */\nexport const editUserDetails = userDetails => dispatch => {\n  dispatch({ type: LOADING_USER });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/user\",\n      userDetails\n    )\n    .then(() => {\n      dispatch(getUserData());\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n * set the read flag of notifications to true\n */\nexport const markNotificationsRead = notificationIds => dispatch => {\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/notifications\",\n      notificationIds\n    )\n    .then(res => {\n      dispatch({\n        type: MARK_NOTIFICATIONS_READ\n      });\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n * create token variable in browser localStorage,then\n * set the authorization header value in request (Token)\n */\nexport const setAuthorizationHeader = token => {\n  const FBIdToken = `Bearer ${token}`;\n  // console.log(`here is the Token value : ${token}`);\n  localStorage.setItem(\"FireBaseIdToken\", FBIdToken);\n  axios.defaults.headers.common[\"Authorization\"] = FBIdToken;\n};\n","//done\nimport React from \"react\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n/**\n * note :  The naming of import is completely independent in default export and\n * we can use any name we like.\n *  */\nexport default ({ children, onClick, tip, btnClassName, tipClassName }) => (\n  <Tooltip title={tip} className={tipClassName} placement=\"top\">\n    <IconButton onClick={onClick} className={btnClassName}>\n      {children}\n    </IconButton>\n  </Tooltip>\n);\n","/**\n * https://redux.js.org/basics/actions\n * example :\n * export method =()=>dispatch=>{}  //this is called bound action creator\n * which calls the method and then dispatch to redux store\n * dispatch takes an action which consists of type &  payload\n * dispatch (payload) : is the only source of information to redux store\n */\n\nimport {\n  SET_ROARS,\n  LOADING_DATA,\n  LIKE_ROAR,\n  UNLIKE_ROAR,\n  DELETE_ROAR,\n  SET_ERRORS,\n  POST_ROAR,\n  CLEAR_ERRORS,\n  LOADING_UI,\n  SET_ROAR,\n  STOP_LOADING_UI,\n  SUBMIT_COMMENT\n} from \"../types\";\n\nimport axios from \"axios\";\n\n/**\n * getting all roars from database\n */\nexport const getRoars = () => dispatch => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .get(\"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roars\")\n    .then(res => {\n      dispatch({\n        type: SET_ROARS,\n        payload: res.data\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ROARS,\n        payload: []\n      });\n    });\n};\n\n/**\n * Like Roar\n */\nexport const likeRoar = roarId => dispatch => {\n  axios\n    .get(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar/${roarId}/like`\n    )\n    .then(res => {\n      dispatch({\n        type: LIKE_ROAR,\n        payload: res.data\n      });\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n *  Unlike a roar\n * */\nexport const unlikeRoar = roarId => dispatch => {\n  axios\n    .get(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar/${roarId}/unlike`\n    )\n    .then(res => {\n      dispatch({\n        type: UNLIKE_ROAR,\n        payload: res.data\n      });\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n * Submit a comment\n */\nexport const submitComment = (roarId, commentData) => dispatch => {\n  axios\n    .post(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar/${roarId}/comment`,\n      commentData\n    )\n    .then(res => {\n      dispatch({\n        type: SUBMIT_COMMENT,\n        payload: res.data\n      });\n      dispatch(clearErrors());\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n/**\n * delete a roar\n */\nexport const deleteRoar = roarId => dispatch => {\n  axios\n    .delete(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar/${roarId}`\n    )\n    .then(() => {\n      console.log(\"here is the delete id : \" + roarId);\n      dispatch({ type: DELETE_ROAR, payload: roarId });\n    })\n    .catch(err => {\n      console.log(err);\n      console.log(\"here is the delete error : \" + err);\n    });\n};\n\nexport const getRoar = roarId => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .get(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar/${roarId}`\n    )\n    .then(res => {\n      dispatch({\n        type: SET_ROAR,\n        payload: res.data\n      });\n      // console.log(\"data returned : \" + JSON.stringify(res.data));\n      dispatch({ type: STOP_LOADING_UI });\n    })\n    .catch(err => console.log(err));\n};\n\n/**\n * Post a roar\n */\nexport const postRoar = newRoar => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\n      \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/roar\",\n      newRoar\n    )\n    .then(res => {\n      dispatch({\n        type: POST_ROAR,\n        payload: res.data\n      });\n      dispatch(clearErrors());\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n/**\n * get Roars of a particular user\n */\nexport const getUserData = userHandle => dispatch => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .get(\n      `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/user/${userHandle}`\n    )\n    .then(res => {\n      dispatch({\n        type: SET_ROARS,\n        payload: res.data.roars\n      });\n    })\n    .catch(() => {\n      dispatch({\n        type: SET_ROARS,\n        payload: null\n      });\n    });\n};\n\nexport const clearErrors = () => dispatch => {\n  dispatch({ type: CLEAR_ERRORS });\n};\n","//done\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport CustomButton from \"../../util/CustomButton\";\n\n// Icons\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n\n// REdux\nimport { connect } from \"react-redux\";\nimport { likeRoar, unlikeRoar } from \"../../redux/actions/dataAction\";\n\nexport class LikeButton extends Component {\n  likedRoar = () => {\n    if (\n      this.props.user.likes &&\n      this.props.user.likes.find(like => like.roarId === this.props.roarId)\n    )\n      return true;\n    else return false;\n  };\n\n  likeRoar = () => {\n    this.props.likeRoar(this.props.roarId);\n  };\n\n  unlikeRoar = () => {\n    this.props.unlikeRoar(this.props.roarId);\n  };\n\n  render() {\n    const { authenticated } = this.props.user;\n    const likeButton = !authenticated ? (\n      <Link to=\"/login\">\n        <CustomButton tip=\"Like\">\n          <FavoriteBorder color=\"secondary\" />\n        </CustomButton>\n      </Link>\n    ) : this.likedRoar() ? (\n      <CustomButton tip=\"Undo like\" onClick={this.unlikeRoar}>\n        <FavoriteIcon color=\"secondary\" />\n      </CustomButton>\n    ) : (\n      <CustomButton tip=\"Like\" onClick={this.likeRoar}>\n        <FavoriteBorder color=\"secondary\" />\n      </CustomButton>\n    );\n    return likeButton;\n  }\n}\n\nLikeButton.propTypes = {\n  user: PropTypes.object.isRequired,\n  roarId: PropTypes.string.isRequired,\n  likeRoar: PropTypes.func.isRequired,\n  unlikeRoar: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  likeRoar,\n  unlikeRoar\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(LikeButton);\n","//done\nimport React, { Component, Fragment } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PropTypes from \"prop-types\";\nimport CustomButton from \"../../util/CustomButton\";\n\n// MUI Stuff\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\n\nimport { connect } from \"react-redux\";\nimport { deleteRoar } from \"../../redux/actions/dataAction\";\n\nconst styles = theme => ({\n  ...theme.deleteRoar\n});\n\nclass DeleteRoar extends Component {\n  state = {\n    open: false\n  };\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  deleteRoar = () => {\n    this.props.deleteRoar(this.props.roarId);\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <CustomButton\n          tip=\"Delete Roar\"\n          onClick={this.handleOpen}\n          btnClassName={classes.deleteButton}\n        >\n          <DeleteOutline color=\"secondary\" />\n        </CustomButton>\n\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          fullWidth\n          maxWidth=\"sm\"\n        >\n          <DialogTitle>Are you sure you want to delete this roar ?</DialogTitle>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.deleteRoar} color=\"secondary\">\n              Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nDeleteRoar.propTypes = {\n  deleteRoar: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n  roarId: PropTypes.string.isRequired\n};\n\nexport default connect(\n  null,\n  { deleteRoar }\n)(withStyles(styles)(DeleteRoar));\n","//done\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\n// MUI\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = theme => ({\n  ...theme.comments\n});\n/**\n * here in map\n * index param : The index of the current element being processed in the array\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n * */\nclass Comments extends Component {\n  render() {\n    const { comments, classes } = this.props;\n    return (\n      <Grid container>\n        {comments && comments.length > 0\n          ? comments.map((comment, index) => {\n              const { body, createdAt, userImage, userHandle } = comment;\n              return (\n                <Fragment key={createdAt}>\n                  <Grid item sm={12} className={classes.commentBlock}>\n                    <Grid container>\n                      <Grid item sm={2} xs={3}>\n                        <img\n                          src={userImage}\n                          alt=\"comment\"\n                          className={classes.commentImage}\n                        />\n                      </Grid>\n                      <Grid item sm={10} xs={9}>\n                        <div className={classes.commentData}>\n                          <Typography\n                            className={classes.userHandle}\n                            variant=\"h5\"\n                            component={Link}\n                            to={`/user/${userHandle}`}\n                            color=\"primary\"\n                          >\n                            {userHandle}\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                          </Typography>\n                          <hr className={classes.invisibleSeparator} />\n                          <Typography variabnt=\"body1\">{body}</Typography>\n                        </div>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                  {/* {index !== comments.length - 1 && (\n                    <hr className={classes.invisibleSeparator} />\n                  )} */}\n                </Fragment>\n              );\n            })\n          : null}\n      </Grid>\n    );\n  }\n}\n\n// Comments.propTypes = {\n//   comments: PropTypes.array.isRequired\n// };\n\nexport default withStyles(styles)(Comments);\n","//done\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// MUI Stuff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { submitComment } from \"../../redux/actions/dataAction\";\n\nconst styles = {};\n\nclass CommentForm extends Component {\n  state = {\n    body: \"\",\n    errors: {}\n  };\n\n  /**\n   * componentWillReceiveProps() is invoked before a mounted component receives new props.\n   * If you need to update the state in response to prop changes (for example, to reset it),\n   * you may compare this.props and nextProps and perform state transitions using\n   * this.setState() in this method.\n   * React doesn't call componentWillReceiveProps with initial props during mounting.\n   * It only calls this method if some of component's props may update.\n   * used here to clear the body if there is no errors and not loading UI\n   */\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n    if (!nextProps.UI.errors && !nextProps.UI.loading) {\n      this.setState({ body: \"\" });\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.submitComment(this.props.roarId, { body: this.state.body });\n  };\n\n  render() {\n    const { classes, authenticated } = this.props;\n    const errors = this.state.errors;\n\n    const commentFormMarkup = authenticated ? (\n      <Grid item sm={12}>\n        <form onSubmit={this.handleSubmit}>\n          <Grid container>\n            <Grid item sm={10}>\n              <TextField\n                name=\"body\"\n                type=\"text\"\n                label=\"Comment on the roar\"\n                error={errors.comment ? true : false}\n                helperText={errors.comment}\n                value={this.state.body}\n                onChange={this.handleChange}\n                fullWidth\n                className={classes.textField}\n              />\n            </Grid>\n            <Grid item sm={2}>\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.button}\n              >\n                Submit\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Grid>\n    ) : null;\n    return commentFormMarkup;\n  }\n}\n\nCommentForm.propTypes = {\n  submitComment: PropTypes.func.isRequired,\n  UI: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  roarId: PropTypes.string.isRequired,\n  authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  UI: state.UI,\n  authenticated: state.user.authenticated\n});\n\nexport default connect(\n  mapStateToProps,\n  { submitComment }\n)(withStyles(styles)(CommentForm));\n","//review\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomButton from \"../../util/CustomButton\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport LikeButton from \"./LikeButton\";\nimport Comments from \"./Comments\";\nimport CommentForm from \"./CommentForm\";\n\n// MUI Stuff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icons\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport UnfoldMore from \"@material-ui/icons/UnfoldMore\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { getRoar, clearErrors } from \"../../redux/actions/dataAction\";\n\nconst styles = theme => ({\n  ...theme.roarDialog\n});\n\nclass RoarDialog extends Component {\n  state = {\n    open: false,\n    oldPath: \"\",\n    newPath: \"\"\n  };\n  componentDidMount() {\n    if (this.props.openDialog) {\n      this.handleOpen();\n    }\n  }\n\n  /**\n   * when the user opens the dialog , change the link to ID of the roar\n   * when close the dialog , return back to the original link , remove Id of the roarID\n   */\n  handleOpen = () => {\n    let oldPath = window.location.pathname;\n\n    const { userHandle, roarId } = this.props;\n    const newPath = `/user/${userHandle}/roar/${roarId}`;\n\n    if (oldPath === newPath) oldPath = `/user/${userHandle}`;\n\n    window.history.pushState(null, null, newPath);\n\n    this.setState({ open: true, oldPath, newPath });\n    this.props.getRoar(this.props.roarId);\n  };\n\n  handleClose = () => {\n    window.history.pushState(this.state, null, this.state.oldPath);\n    this.setState({ open: false });\n\n    this.props.clearErrors();\n    this.forceUpdate();\n  };\n\n  render() {\n    const {\n      classes,\n      roar: {\n        roarId,\n        body,\n        createdAt,\n        likeCount,\n        commentCount,\n        userImage,\n        userHandle,\n        comments\n      },\n      UI: { loading }\n    } = this.props;\n\n    //dialogMarkup : render loading spinner or content\n    const dialogMarkup = loading ? (\n      <div className={classes.spinnerDiv}>\n        <CircularProgress size={200} thickness={2} />\n      </div>\n    ) : (\n      <Grid container spacing={2}>\n        <Grid item sm={4}>\n          <img src={userImage} alt=\"Profile\" className={classes.profileImage} />\n        </Grid>\n        <Grid item sm={8}>\n          <Typography\n            className={classes.userHandle}\n            component={Link}\n            color=\"primary\"\n            variant=\"h5\"\n            to={`/user/${userHandle}`}\n          >\n            {userHandle}\n          </Typography>\n          <hr className={classes.invisibleSeparator} />\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n          </Typography>\n          <hr className={classes.invisibleSeparator} />\n          <Typography variant=\"body1\">{body}</Typography>\n          <div className={classes.roarbuttons}>\n            <LikeButton roarId={roarId} />\n            <span>{likeCount} likes</span>\n            <CustomButton tip=\"comments\">\n              <ChatIcon color=\"primary\" />\n            </CustomButton>\n            <span>{commentCount} comments</span>\n          </div>\n        </Grid>\n        <hr className={classes.visibleSeparator} />\n        <CommentForm roarId={roarId} />\n        <Comments comments={comments} />\n      </Grid>\n    );\n\n    return (\n      <Fragment>\n        <CustomButton\n          onClick={this.handleOpen}\n          tip=\"Expand roar\"\n          tipClassName={classes.expandButton}\n        >\n          <UnfoldMore color=\"primary\" />\n        </CustomButton>\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          fullWidth\n          maxWidth=\"sm\"\n        >\n          <CustomButton\n            tip=\"Close\"\n            onClick={this.handleClose}\n            tipClassName={classes.closeButton}\n          >\n            <CloseIcon />\n          </CustomButton>\n          <DialogContent className={classes.dialogContent}>\n            {dialogMarkup}\n          </DialogContent>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nRoarDialog.propTypes = {\n  clearErrors: PropTypes.func.isRequired,\n  getRoar: PropTypes.func.isRequired,\n  roarId: PropTypes.string.isRequired,\n  userHandle: PropTypes.string.isRequired,\n  roar: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  roar: state.data.roar,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  getRoar,\n  clearErrors\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(RoarDialog));\n","//done\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport LikeButton from \"./LikeButton\";\n//MUI Styff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n//Redux\nimport { connect } from \"react-redux\";\nimport { likeRoar, unlikeRoar } from \"../../redux/actions/dataAction\";\nimport PropTypes from \"prop-types\";\n\nimport CustomButton from \"../../util/CustomButton\";\nimport DeleteRoar from \"./DeleteRoar\";\nimport RoarDialog from \"./RoarDialog\";\n\nconst styles = theme => ({\n  ...theme.roar\n});\n\nclass Roar extends Component {\n  /** */\n  likedRoar = () => {\n    if (\n      this.props.user.likes &&\n      this.props.user.likes.find(like => like.roarId === this.props.roar.roarId)\n    )\n      return true;\n    else return false;\n  };\n\n  render() {\n    dayjs.extend(relativeTime);\n\n    const {\n      classes,\n      roar: {\n        body,\n        createdAt,\n        userImage,\n        userHandle,\n        roarId,\n        likeCount,\n        commentCount\n      },\n      user: {\n        authenticated,\n        credentials: { handle }\n      }\n    } = this.props;\n\n    const deleteButton =\n      authenticated && userHandle === handle ? (\n        <DeleteRoar roarId={roarId} />\n      ) : null;\n\n    return (\n      <Card className={classes.card}>\n        <CardMedia\n          image={userImage}\n          title=\"Profile Image\"\n          className={classes.image}\n        />\n        <CardContent className={classes.content}>\n          <Typography\n            className={classes.userhandle}\n            variant=\"h5\"\n            component={Link}\n            to={`/user/${userHandle}`}\n            color=\"primary\"\n          >\n            {userHandle}\n          </Typography>\n\n          {deleteButton}\n\n          <Typography variant=\"body2\" color=\"secondary\">\n            {dayjs(createdAt).fromNow()}\n          </Typography>\n\n          <Typography variant=\"body1\">{body}</Typography>\n          <div className={classes.roarbuttons}>\n            <LikeButton roarId={roarId} />\n            <span>\n              {likeCount} {likeCount === 1 ? \"Like\" : \"Likes\"}\n            </span>\n\n            <CustomButton tip=\"Comments\">\n              <ChatIcon color=\"primary\" />\n            </CustomButton>\n            <span>\n              {commentCount} {commentCount === 1 ? \"Comment\" : \"Comments\"}\n            </span>\n          </div>\n          <RoarDialog\n            roarId={roarId}\n            userHandle={userHandle}\n            openDialog={this.props.openDialog}\n          />\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nRoar.propTypes = {\n  user: PropTypes.object.isRequired,\n  roar: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  likeRoar,\n  unlikeRoar\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(Roar));\n","//done\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport NoImg from \"../images/no-img.png\";\n\n// MUI\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Paper from \"@material-ui/core/Paper\";\n\n// Icons\nimport LocationOn from \"@material-ui/icons/LocationOn\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\n\nconst styles = theme => ({\n  ...theme.profileSkeleton\n});\n\nconst ProfileSkeleton = props => {\n  const { classes } = props;\n  return (\n    <Paper className={classes.paper}>\n      <div className={classes.profile}>\n        <div className=\"image-wrapper\">\n          <img src={NoImg} alt=\"profile\" className=\"profile-image\" />\n        </div>\n        <hr />\n        <div className=\"profile-details\">\n          <div className={classes.handle} />\n          <hr />\n          <div className={classes.fullLine} />\n          <div className={classes.fullLine} />\n          <hr />\n          <LocationOn color=\"primary\" /> <span>Location</span>\n          <hr />\n          <LinkIcon color=\"primary\" /> https://website.com\n          <hr />\n          <CalendarToday color=\"primary\" /> Joined date\n        </div>\n      </div>\n    </Paper>\n  );\n};\n\nProfileSkeleton.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProfileSkeleton);\n","//done\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomButton from \"../../util/CustomButton\";\n\n//MUI\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { editUserDetails } from \"../../redux/actions/userActions\";\nconst styles = theme => ({\n  ...theme.editDetails\n});\n\nclass EditDetails extends Component {\n  state = {\n    bio: \"\",\n    website: \"\",\n    location: \"\",\n    open: false\n  };\n\n  mapUserDetailsToState = credentials => {\n    this.setState({\n      bio: credentials.bio ? credentials.bio : \"\",\n      website: credentials.website ? credentials.website : \"\",\n      location: credentials.location ? credentials.location : \"\"\n    });\n  };\n\n  handleOpen = () => {\n    this.setState({ open: true });\n    this.mapUserDetailsToState(this.props.credentials);\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  /**\n   * when opening the edit details form , we need to fill the text fields with\n   * the current values , so we create a state for this component\n   * and then set these state values with its correspondings from redux store\n   */\n  componentDidMount() {\n    const { credentials } = this.props;\n    this.mapUserDetailsToState(credentials);\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = () => {\n    const userDetails = {\n      bio: this.state.bio,\n      website: this.state.website,\n      location: this.state.location\n    };\n    this.props.editUserDetails(userDetails);\n    this.handleClose();\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Fragment>\n        <CustomButton\n          tip=\"Edit details\"\n          onClick={this.handleOpen}\n          btnClassName={classes.button}\n        >\n          <EditIcon color=\"primary\" />\n        </CustomButton>\n\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          fullWidth\n          maxWidth=\"sm\"\n        >\n          <DialogTitle className={classes.title}>\n            {\" \"}\n            Edit your details\n          </DialogTitle>\n\n          <DialogContent>\n            <form>\n              <TextField\n                name=\"bio\"\n                type=\"text\"\n                label=\"Bio\"\n                multiline\n                rows=\"3\"\n                inputProps={{ maxLength: 250 }}\n                placeholder=\"A Short bio about yourself\"\n                className={classes.textField}\n                value={this.state.bio}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                name=\"website\"\n                type=\"text\"\n                label=\"Website\"\n                placeholder=\"Your professional Website\"\n                className={classes.textField}\n                value={this.state.website}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                name=\"location\"\n                type=\"text\"\n                label=\"Location\"\n                placeholder=\"where you live\"\n                className={classes.textField}\n                value={this.state.location}\n                onChange={this.handleChange}\n                fullWidth\n              />\n            </form>\n          </DialogContent>\n\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nEditDetails.propTypes = {\n  editUserDetails: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  credentials: state.user.credentials\n});\n\nexport default connect(\n  mapStateToProps,\n  { editUserDetails }\n)(withStyles(styles)(EditDetails));\n","//done\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\nimport EditDetails from \"./EditDetails\";\n\n//MUI Stuff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Button from \"@material-ui/core/Button\";\nimport MuiLink from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\n\n//Icons\nimport LocationOn from \"@material-ui/icons/LocationOn\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nimport InfoRounded from \"@material-ui/icons/InfoRounded\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\nimport CustomButton from \"../../util/CustomButton\";\n\nconst styles = theme => ({\n  ...theme.styleToSpread\n});\n\nclass Profile extends Component {\n  /** handles image upload input */\n  handleImageChange = event => {\n    const image = event.target.files[0];\n    //send to server\n    const formData = new FormData();\n    formData.append(\"image\", image, image.name);\n    this.props.uploadImage(formData);\n  };\n\n  /**handle editing the profile picture  */\n  handleEditPricture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput.click();\n  };\n\n  /**logout handle */\n  handleLogout = () => {\n    this.props.logoutUser();\n  };\n\n  render() {\n    const {\n      classes,\n      user: {\n        credentials: { handle, createdAt, imageUrl, bio, website, location },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n    let profileMarkup = !loading ? (\n      authenticated ? (\n        <Paper className={classes.paper}>\n          <div className={classes.profile}>\n            <div className=\"image-wrapper\">\n              <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\n              <input\n                type=\"file\"\n                id=\"imageInput\"\n                hidden=\"hidden\"\n                onChange={this.handleImageChange}\n              />\n              <CustomButton\n                tip=\"Edit profile pricture\"\n                onClick={this.handleEditPricture}\n                btnClassName=\"button\"\n              >\n                <EditIcon color=\"primary\" />\n              </CustomButton>\n            </div>\n\n            <div className=\"profile-details\">\n              <MuiLink\n                className=\"userName\"\n                component={Link}\n                to={`/user/${handle}`}\n                variant=\"h4\"\n              >\n                {handle}\n              </MuiLink>\n              <hr className={classes.visibleColoredSeparator} />\n              <hr className={classes.invisibleSeparator} />\n              {bio && (\n                <Fragment>\n                  <div style={{ display: \"inline-flex\" }}>\n                    <InfoRounded className={classes.userDetailsIcons} />\n                    <Typography variant=\"body2\">{bio}</Typography>\n                  </div>\n                </Fragment>\n              )}\n              <hr className={classes.invisibleSeparator} />\n              {location && (\n                <Fragment>\n                  <div style={{ display: \"inline-flex\" }}>\n                    <LocationOn className={classes.userDetailsIcons} />\n                    <Typography variant=\"body2\" className={classes.labels}>\n                      From\n                    </Typography>\n                    <Typography variant=\"body2\">{\" \" + location}</Typography>\n                  </div>\n                </Fragment>\n              )}\n              <hr className={classes.invisibleSeparator} />\n              {website && (\n                <Fragment>\n                  <div className={classes.profileInfoItem}>\n                    <LinkIcon className={classes.userDetailsIcons} />\n                    <Typography variant=\"body2\" className={classes.labels}>\n                      WebPage\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {\" \"}\n                      <a\n                        href={website}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        {\" \"}\n                        {website}\n                      </a>\n                    </Typography>\n                  </div>\n                </Fragment>\n              )}\n              <hr className={classes.invisibleSeparator} />\n              <div style={{ display: \"inline-flex\" }}>\n                <CalendarToday className={classes.userDetailsIcons} /> {\"\"}\n                <Typography variant=\"body2\" className={classes.labels}>\n                  Member since\n                </Typography>\n                <Typography variant=\"body2\">\n                  {dayjs(createdAt).format(\"MMM YYYY\")}\n                </Typography>\n              </div>\n            </div>\n\n            <hr className={classes.visibleColoredSeparator} />\n\n            <CustomButton tip=\"Logout\" onClick={this.handleLogout}>\n              <KeyboardReturn color=\"primary\" />\n            </CustomButton>\n            <EditDetails />\n          </div>\n        </Paper>\n      ) : (\n        <Paper className={classes.paper}>\n          <Typography variant=\"body2\" align=\"center\">\n            No Profile found , Please login\n          </Typography>\n          <div className={classes.buttons}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              component={Link}\n              to=\"/login\"\n            >\n              Login\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              component={Link}\n              to=\"/signup\"\n            >\n              Signup\n            </Button>\n          </div>\n        </Paper>\n      )\n    ) : (\n      <ProfileSkeleton />\n    );\n    return profileMarkup;\n  }\n}\n\nProfile.propTypes = {\n  user: PropTypes.object.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(Profile));\n","//done\nimport React, { Fragment } from \"react\";\nimport NoImg from \"../images/no-img.png\";\nimport PropTypes from \"prop-types\";\n// MUI\nimport Card from \"@material-ui/core/Card\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  ...theme.roarSkeleton\n});\n\nconst RoarSkeleton = props => {\n  const { classes } = props;\n\n  const content = Array.from({ length: 5 }).map((item, index) => (\n    <Card className={classes.card} key={index}>\n      <CardMedia className={classes.cover} image={NoImg} />\n      <CardContent className={classes.cardContent}>\n        <div className={classes.handle} />\n        <div className={classes.date} />\n        <div className={classes.fullLine} />\n        <div className={classes.fullLine} />\n        <div className={classes.halfLine} />\n      </CardContent>\n    </Card>\n  ));\n\n  return <Fragment>{content}</Fragment>;\n};\n\nRoarSkeleton.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(RoarSkeleton);\n","import React from 'react'\nimport './MessageWindow.css'\n\n// The message component takes the message text and the username of the message\n// sender. It also takes `self` - a boolean value depicting whether the message\n// is sent by the current logged in user\nconst Message = ({ text, username, self }) => (\n  <div className={'message' + (self ? ' message-self' : '')}>\n    <div className='message-username'>{username}</div>\n    <div className='message-text'>{text}</div>\n  </div>\n)\n\n// The message window contains all the messages\nexport default class MessageWindow extends React.Component {\n  constructor (props) {\n    super(props)\n    // The `messageWindow` ref is used for autoscrolling the window\n    this.messageWindow = React.createRef()\n  }\n  componentDidUpdate () {\n    // Everytime the component updates (when a new message is sent) we\n    // change the `scrollTop` attribute to autoscroll the message window\n    // to the bottom\n    const messageWindow = this.messageWindow.current\n    messageWindow.scrollTop = messageWindow.scrollHeight - messageWindow.clientHeight\n  }\n  render () {\n    const { messages = [], username } = this.props\n    // The message window is a container for the list of messages, which\n    // as mapped to `Message` components\n    return (\n      <div className='message-window' ref={this.messageWindow}>\n        {messages.map((msg, i) => {\n          console.log(\"userName: \"+username);\n          console.log(\"msg.username: \"+msg.username);\n\n          return <Message key={i} text={msg.text} username={msg.username} self={username === msg.username} />\n        })}\n      </div>\n    )\n  }\n}","import React, { Component } from 'react'\nimport './TextBar.css'\n\nexport default class TextBar extends Component {\n  constructor (props) {\n    super(props)\n    // Initialize a new ref to hold the input element\n    this.input = React.createRef()\n  }\n\n  // The sendMessage method is called anytime the enter key is\n  // pressed, or if the \"Send\" button is clicked\n  sendMessage () {\n    if(this.props.definedUser===true){this.props.onSend && this.props.onSend(this.props.userName,this.input.current.value)}\n    else{\n      this.props.onSend && this.props.onSend(this.input.current.value)\n    }\n    \n    this.input.current.value = ''\n  }\n\n  // This method is assigned as the event listener to keypress events\n  // if the key turns out to be the enter key, send the message by\n  // calling the `sendMessage` method\n  sendMessageIfEnter (e) {\n    if (e.keyCode === 13) {\n      this.sendMessage()\n    }\n  }\n  render () {\n    // Create functions by binding the methods to the instance\n    const sendMessage = this.sendMessage.bind(this)\n    const sendMessageIfEnter = this.sendMessageIfEnter.bind(this)\n\n    // The textbar consists of the input form element, and the send button\n    // The `sendMessageIfEnter` function is assigned as the event listener\n    // to keydown events for the text input\n    // The `sendMessage` function is assigned as the listener for the click\n    // event on the Send button\n    return (\n      <div className='textbar'>\n        <input className='textbar-input' type='text' ref={this.input} onKeyDown={sendMessageIfEnter} />\n        <button className='textbar-send' onClick={sendMessage}>\n          Send\n        </button>\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\n\nimport MessageWindow from \"../../chat-client/MessageWindow\";\nimport TextBar from \"../../chat-client/TextBar\";\nimport { registerOnMessageCallback, send } from \"../../chat-client/websocket\";\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { connect } from \"react-redux\";\n\nconst styles = theme => ({\n  ...theme.styleToSpread\n});\n\nclass ChatBox extends Component {\n  // The messages and username are used as the application state\n  state = {\n    messages: [],\n    username: null\n  };\n\n  constructor(props) {\n    super(props);\n    registerOnMessageCallback(this.onMessageReceived.bind(this));\n  }\n\n  onMessageReceived(msg) {\n    msg = JSON.parse(msg);\n    this.setState({\n      messages: this.state.messages.concat(msg)\n    });\n  }\n\n  setUserName(name) {\n    console.log(\"here in set user name  : \"+name);\n\n    this.setState({\n      username: name\n    });\n  }\n\n  sendMessage(userName, text) {\n      console.log(\"here in send message : \"+this.state.username);\n    //   if(!userName && this.state.username===null){\n\n    //   }\n    const message = {\n      username: userName ? userName:this.state.username,\n      text: text\n    };\n    send(JSON.stringify(message));\n  }\n\n  render() {\n    const { authenticated, handle } = this.props;\n    const setUserName = this.setUserName.bind(this);\n    const sendMessage = this.sendMessage.bind(this);\n    \n    if (authenticated || this.state.username!=null) {\n      return (\n        <div className=\"container\">\n          <div className=\"container-title\">Chat</div>\n          <MessageWindow messages={this.state.messages} username={handle?handle:this.state.username} />\n          <TextBar definedUser={true} userName={handle} onSend={sendMessage} />\n        </div>\n      );\n    } else if(!authenticated || this.state.username === null){\n      return (\n        <div className=\"container\">\n          <div className=\"container-title\">Chat - Enter username : </div>\n          <TextBar definedUser={false} onSend={setUserName} />\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  authenticated: state.user.authenticated,\n  handle: state.user.credentials.handle\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(ChatBox));\n","//done\nimport React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Roar from \"../components/roar/Roar\";\nimport Profile from \"../components/profile/Profile\";\nimport { connect } from \"react-redux\";\nimport { getRoars } from \"../redux/actions/dataAction\";\nimport PropTypes from \"prop-types\";\nimport RoarSkeleton from \"../util/RoarSkeleton\";\nimport ChatBox from '../components/chat/ChatBox';\nimport Paper from \"@material-ui/core/Paper\";\n\nexport class home extends Component {\n  componentDidMount() {\n    this.props.getRoars();\n  }\n\n  render() {\n    const { roars, loading } = this.props.data;\n    let recentRoarsMarkup = !loading ? (\n      roars.map(roar => <Roar key={roar.roarId} roar={roar} />)\n    ) : (\n      <RoarSkeleton />\n    );\n    return (\n      <Grid container spacing={8} className=\"home\">\n        <Grid item sm={8} xs={12} className=\"roarSection\">\n          {recentRoarsMarkup}\n        </Grid>\n        <Grid item sm={4} xs={12} className=\"profileSection\">\n          <Profile />\n          <Paper >\n            <ChatBox/>\n          </Paper>\n        </Grid>\n       \n      </Grid>\n    );\n  }\n}\n\nhome.propTypes = {\n  getRoars: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  data: state.data\n});\n\nexport default connect(\n  mapStateToProps,\n  { getRoars }\n)(home);\n","//done\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppIcon from \"../images/brandLogo.png\";\nimport { Link } from \"react-router-dom\";\n//MUI Stuff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\n\n//Redux stuff\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../redux/actions/userActions\";\nimport { handleSocialUser } from \"../redux/actions/userActions\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/app\";\nimport \"firebase/auth\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nimport apiConfig from \"../util/apiConfig\";\n\n\nfirebase.initializeApp({\n  apiKey: apiConfig.apiKey,\n  authDomain: apiConfig.authDomain\n});\n\nconst styles = theme => ({\n  ...theme.login\n});\n\nclass login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n  uiConfig = {\n    signInFlow: \"popup\",\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: (credential, redirectUrl) => {\n        let history = this.props.history;\n        // console.log(\n        //   \"credentials : \" + JSON.stringify(credential.user.displayName)\n        // );\n        // console.log(\"user data: \" + JSON.stringify(credential.user));\n\n        credential.user.getIdToken().then(token => {\n          // console.log(\"credentials: \" + JSON.stringify(credential));\n          // make api call to backend\n          const newUserData = {\n            email: credential.user.email,\n            handle: credential.user.displayName,\n            uid: credential.user.uid,\n            token: token,\n            imageUrl: credential.user.photoURL\n          };\n\n          this.props.handleSocialUser(newUserData, history);\n        });\n      }\n    }\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.props.loginUser(userData, this.props.history);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  render() {\n    const {\n      classes,\n      UI: { loading }\n    } = this.props;\n\n    const { errors } = this.state;\n\n    return (\n      <Grid container justify=\"center\">\n        <Paper className={classes.paper}>\n          <Grid item sm className={classes.form}>\n            <img src={AppIcon} alt=\"lion\" className={classes.image} />\n            <Typography variant=\"h2\" className={classes.pageTitle}>\n              Login\n            </Typography>\n            <form noValidate onSubmit={this.handleSubmit}>\n              <TextField\n                id=\"email \"\n                name=\"email\"\n                type=\"email\"\n                label=\"Email\"\n                className={classes.textField}\n                helperText={errors.email}\n                error={errors.email ? true : false}\n                value={this.state.email}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                id=\"password \"\n                name=\"password\"\n                type=\"password\"\n                label=\"Password\"\n                className={classes.textField}\n                helperText={errors.password}\n                error={errors.password ? true : false}\n                value={this.state.password}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              {errors.general && (\n                <Typography variant=\"body2\" className={classes.customError}>\n                  {errors.general}\n                </Typography>\n              )}\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.Button}\n                disabled={loading}\n              >\n                Login\n                {loading && (\n                  <CircularProgress size={30} className={classes.progress} />\n                )}\n              </Button>\n              <br />\n              <small>\n                dont have an account ? sign up <Link to=\"/signup\">here</Link>{\" \"}\n              </small>\n            </form>\n          </Grid>\n          <StyledFirebaseAuth\n            uiConfig={this.uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        </Paper>\n      </Grid>\n    );\n  }\n}\n\nlogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n  loginUser: PropTypes.func.isRequired, // from mapActionsToProps\n  user: PropTypes.object.isRequired, //from mapStateToProps\n  UI: PropTypes.object.isRequired //from mapStateToProps\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  loginUser,\n  handleSocialUser\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(login));\n","//done\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppIcon from \"../images/brandLogo.png\";\nimport { Link } from \"react-router-dom\";\n\n//MUI Stuff\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\n\n//Redux Stuff\nimport { connect } from \"react-redux\";\nimport { signupUser } from \"../redux/actions/userActions\";\n\nconst styles = theme => ({\n  ...theme.signup\n});\n\nclass signup extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      handle: \"\",\n      errors: {}\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    });\n    const newUserData = {\n      email: this.state.email,\n      password: this.state.password,\n      confirmPassword: this.state.confirmPassword,\n      handle: this.state.handle\n    };\n    this.props.signupUser(newUserData, this.props.history);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  render() {\n    const {\n      classes,\n      UI: { loading }\n    } = this.props;\n    const { errors } = this.state;\n    return (\n      <Grid container className={classes.form} sm={4} xs={12}>\n        <Paper className={classes.paper}>\n          <Grid item sm />\n          <Grid item sm>\n            <img src={AppIcon} alt=\"lion\" className={classes.image} />\n            <Typography variant=\"h2\" className={classes.pageTitle}>\n              Signup\n            </Typography>\n            <form noValidate onSubmit={this.handleSubmit}>\n              <TextField\n                id=\"email \"\n                name=\"email\"\n                type=\"email\"\n                label=\"Email\"\n                className={classes.textField}\n                helperText={errors.email}\n                error={errors.email ? true : false}\n                value={this.state.email}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                id=\"password \"\n                name=\"password\"\n                type=\"password\"\n                label=\"Password\"\n                className={classes.textField}\n                helperText={errors.password}\n                error={errors.password ? true : false}\n                value={this.state.password}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                id=\"confirmPassword \"\n                name=\"confirmPassword\"\n                type=\"password\"\n                label=\"Confirm Password\"\n                className={classes.textField}\n                helperText={errors.confirmPassword}\n                error={errors.confirmPassword ? true : false}\n                value={this.state.confirmPassword}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <TextField\n                id=\"handle \"\n                name=\"handle\"\n                type=\"text\"\n                label=\"Handle\"\n                className={classes.textField}\n                helperText={errors.handleChange}\n                error={errors.handlhandleChange ? true : false}\n                value={this.state.handle}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              {errors.general && (\n                <Typography variant=\"body2\" className={classes.customError}>\n                  {errors.general}\n                </Typography>\n              )}\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.Button}\n                disabled={loading}\n              >\n                Signup\n                {loading && (\n                  <CircularProgress size={30} className={classes.progress} />\n                )}\n              </Button>\n              <br />\n              <small>\n                Already have an account ? Login <Link to=\"/login\">here</Link>{\" \"}\n              </small>\n            </form>\n          </Grid>\n          <Grid item sm />\n        </Paper>\n      </Grid>\n    );\n  }\n}\n\nsignup.propTypes = {\n  classes: PropTypes.object.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired,\n  signupUser: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  signupUser\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(signup));\n","//done\nimport React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n\n// MUI\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MuiLink from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icons\nimport LocationOn from \"@material-ui/icons/LocationOn\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport InfoRounded from \"@material-ui/icons/InfoRounded\";\n\nconst styles = theme => ({\n  ...theme.staticProfile\n});\n\nconst StaticProfile = props => {\n  const {\n    classes,\n    profile: { handle, createdAt, imageUrl, bio, website, location }\n  } = props;\n\n  return (\n    <Paper className={classes.paper}>\n      <div className={classes.profile}>\n        <div className=\"image-wrapper\">\n          <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\n        </div>\n\n        <div className=\"profile-details\">\n          <MuiLink\n            className=\"userName\"\n            component={Link}\n            to={`/user/${handle}`}\n            // to={\"/user/\" + this.props.profile.handle}\n            variant=\"h4\"\n          >\n            {handle}\n          </MuiLink>\n          <hr className={classes.visibleColoredSeparator} />\n          {bio && (\n            <Fragment>\n              <div style={{ display: \"inline-flex\" }}>\n                <InfoRounded className={classes.userDetailsIcons} />\n                <Typography variant=\"body2\">{bio}</Typography>\n              </div>\n            </Fragment>\n          )}\n          <hr className={classes.invisibleSeparator} />\n          {location && (\n            <Fragment>\n              <div style={{ display: \"inline-flex\" }}>\n                <LocationOn className={classes.userDetailsIcons} />\n                <Typography variant=\"body2\" className={classes.labels}>\n                  From\n                </Typography>\n                <Typography variant=\"body2\">{\" \" + location}</Typography>\n              </div>\n            </Fragment>\n          )}\n          <hr className={classes.invisibleSeparator} />\n          {website && (\n            <Fragment>\n              <div className={classes.profileInfoItem}>\n                <LinkIcon className={classes.userDetailsIcons} />\n                <Typography variant=\"body2\" className={classes.labels}>\n                  WebPage\n                </Typography>\n                <Typography variant=\"body2\">\n                  {\" \"}\n                  <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {\" \"}\n                    {website}\n                  </a>\n                </Typography>\n              </div>\n            </Fragment>\n          )}\n          <hr className={classes.invisibleSeparator} />\n          <div style={{ display: \"inline-flex\" }}>\n            <CalendarToday className={classes.userDetailsIcons} /> {\"\"}\n            <Typography variant=\"body2\" className={classes.labels}>\n              Member since\n            </Typography>\n            <Typography variant=\"body2\">\n              {dayjs(createdAt).format(\"MMM YYYY\")}\n            </Typography>\n          </div>\n        </div>\n      </div>\n    </Paper>\n  );\n};\n\nStaticProfile.propTypes = {\n  profile: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(StaticProfile);\n","//done\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport StaticProfile from \"../components/profile/StaticProfile\";\nimport Roar from \"../components/roar/Roar\";\nimport RoarSkeleton from \"../util/RoarSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { getUserData } from \"../redux/actions/dataAction\";\n\nclass user extends Component {\n  state = {\n    profile: null,\n    roarIdParam: null\n  };\n\n  componentDidMount() {\n    // console.log(\"beginning of Component did mount ....!!!\");\n    const handle = this.props.match.params.handle;\n    // console.log(\"handle is : \" + handle);\n    // console.log(\"params are : \" + this.props.match.params);\n    // console.log(\"props are : \" + this.props);\n\n    const roarId = this.props.match.params.roarId;\n\n    if (roarId) this.setState({ roarIdParam: roarId });\n\n    this.props.getUserData(handle);\n    axios\n      .get(\n        `https://us-central1-socialapp-dfb2e.cloudfunctions.net/api/user/${handle}`\n      )\n      .then(res => {\n        this.setState({\n          profile: res.data.user\n        });\n        console.log(\"the handle : \" + handle);\n        console.log(\"the profile data : \" + res.data.user.bio);\n      })\n      .catch(err =>\n        console.log(\"here is the error from the getuserdata: \" + err)\n      );\n  }\n\n  render() {\n    const { roars, loading } = this.props.data;\n    const roarsMarkup = loading ? (\n      <RoarSkeleton />\n    ) : roars === null ? (\n      <p>No Roars from this user</p>\n    ) : (\n      roars.map(roar => <Roar key={roar.roarId} roar={roar} />)\n    );\n    return (\n      <Grid container spacing={8}>\n        <Grid item sm={8} xs={12} className=\"roarSection\">\n          {roarsMarkup}\n        </Grid>\n        <Grid item sm={4} xs={12} className=\"profileSection\">\n          {this.state.profile === null ? (\n            <ProfileSkeleton />\n          ) : (\n            <StaticProfile profile={this.state.profile} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nuser.propTypes = {\n  getUserData: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  data: state.data\n});\n\nexport default connect(\n  mapStateToProps,\n  { getUserData }\n)(user);\n","//review\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport CustomButton from \"../../util/CustomButton\";\n\n// MUI Stuff\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { postRoar, clearErrors } from \"../../redux/actions/dataAction\";\n\nconst styles = theme => ({\n  ...theme.postRoar\n});\n\nclass PostRoar extends Component {\n  state = {\n    open: false,\n    body: \"\",\n    errors: {}\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({\n        errors: nextProps.UI.errors\n      });\n    }\n    if (!nextProps.UI.errors && !nextProps.UI.loading) {\n      this.setState({ body: \"\", open: false, errors: {} });\n    }\n  }\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.props.clearErrors();\n    this.setState({ open: false, errors: {} });\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.postRoar({ body: this.state.body });\n  };\n\n  render() {\n    const { errors } = this.state;\n    const {\n      classes,\n      UI: { loading }\n    } = this.props;\n    return (\n      <Fragment>\n        <CustomButton onClick={this.handleOpen} tip=\"Post a Roar!\">\n          <AddIcon />\n        </CustomButton>\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          fullWidth\n          maxWidth=\"sm\"\n        >\n          <CustomButton\n            tip=\"Close\"\n            onClick={this.handleClose}\n            tipClassName={classes.closeButton}\n          >\n            <CloseIcon />\n          </CustomButton>\n          <DialogTitle>Post a new roar</DialogTitle>\n          <DialogContent>\n            <form onSubmit={this.handleSubmit}>\n              <TextField\n                name=\"body\"\n                type=\"text\"\n                label=\"RoooooooooooaR here !!\"\n                multiline\n                rows=\"2\"\n                placeholder=\"Roar to your friends\"\n                error={errors.body ? true : false}\n                helperText={errors.body}\n                className={classes.textField}\n                onChange={this.handleChange}\n                fullWidth\n              />\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submitButton}\n                disabled={loading}\n              >\n                Submit\n                {loading && (\n                  <CircularProgress\n                    size={30}\n                    className={classes.progressSpinner}\n                  />\n                )}\n              </Button>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nPostRoar.propTypes = {\n  postRoar: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  UI: state.UI\n});\n\nexport default connect(\n  mapStateToProps,\n  { postRoar, clearErrors }\n)(withStyles(styles)(PostRoar));\n","//done -- VI\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport PropTypes from \"prop-types\";\n// MUI stuff\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Badge from \"@material-ui/core/Badge\";\n// Icons\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n// Redux\nimport { connect } from \"react-redux\";\nimport { markNotificationsRead } from \"../../redux/actions/userActions\";\n\nclass Notifications extends Component {\n  state = {\n    anchorEl: null\n  };\n\n  handleOpen = event => {\n    this.setState({ anchorEl: event.target });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  onMenuOpened = () => {\n    let unreadNotificationsIds = this.props.notifications\n      .filter(not => !not.read)\n      .map(not => not.notificationId);\n    this.props.markNotificationsRead(unreadNotificationsIds);\n  };\n\n  render() {\n    const notifications = this.props.notifications;\n    const anchorEl = this.state.anchorEl;\n\n    dayjs.extend(relativeTime);\n\n    let notificationsIcon;\n\n    // 1- icon & badge part\n    if (notifications && notifications.length > 0) {\n      notifications.filter(not => not.read === false).length > 0\n        ? (notificationsIcon = (\n            <Badge\n              badgeContent={\n                notifications.filter(not => not.read === false).length\n              }\n              color=\"secondary\"\n            >\n              <NotificationsIcon />\n            </Badge>\n          ))\n        : (notificationsIcon = <NotificationsIcon />);\n    } else {\n      notificationsIcon = <NotificationsIcon />;\n    }\n\n    //2- notifications list part\n    let notificationsMarkup =\n      notifications && notifications.length > 0 ? (\n        notifications.map(not => {\n          const verb = not.type === \"like\" ? \"liked\" : \"commented on\";\n          const time = dayjs(not.createdAt).fromNow();\n          const iconColor = not.read ? \"primary\" : \"secondary\";\n          const icon =\n            not.type === \"like\" ? (\n              <FavoriteIcon color={iconColor} style={{ marginRight: 10 }} />\n            ) : (\n              <ChatIcon color={iconColor} style={{ marginRight: 10 }} />\n            );\n\n          return (\n            <MenuItem key={not.createdAt} onClick={this.handleClose}>\n              {icon}\n              <Typography\n                component={Link}\n                color=\"default\"\n                variant=\"body1\"\n                to={`/users/${not.recipient}/roar/${not.roarId}`}\n              >\n                {not.sender} {verb} your roar {time}\n              </Typography>\n            </MenuItem>\n          );\n        })\n      ) : (\n        <MenuItem onClick={this.handleClose}>\n          You have no notifications yet\n        </MenuItem>\n      );\n\n    return (\n      <Fragment>\n        <Tooltip placement=\"top\" title=\"Notifications\">\n          <IconButton\n            aria-owns={anchorEl ? \"simple-menu\" : undefined}\n            aria-haspopup=\"true\"\n            onClick={this.handleOpen}\n          >\n            {notificationsIcon}\n          </IconButton>\n        </Tooltip>\n\n        <Menu\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n          onEntered={this.onMenuOpened}\n        >\n          {notificationsMarkup}\n        </Menu>\n      </Fragment>\n    );\n  }\n}\n\nNotifications.propTypes = {\n  markNotificationsRead: PropTypes.func.isRequired,\n  notifications: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  notifications: state.user.notifications\n});\n\nexport default connect(\n  mapStateToProps,\n  { markNotificationsRead }\n)(Notifications);\n","//done\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport PostRoar from \"../roar/PostRoar\";\nimport logo from \"../../images/brandLogo.png\";\n\n// MUI stuff\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\n// Icons\nimport Notifications from \"./Notifications\";\nconst styles = theme => ({\n  ...theme.styleToSpread\n});\n\nclass Navbar extends Component {\n  render() {\n    const { classes, authenticated } = this.props;\n\n    return (\n      <AppBar>\n        <Toolbar>\n          <div className=\"brand\">\n            <Link to=\"/roar-social-network\">\n              <Avatar alt=\"logo\" src={logo} className={classes.logo} />\n            </Link>\n\n            <Link to=\"/roar-social-network\">\n              <Typography className={classes.title}>RoOoar</Typography>\n            </Link>\n          </div>\n          <div className=\"nav-container\">\n            {authenticated ? (\n              <Fragment>\n                <PostRoar />\n\n                <Notifications />\n              </Fragment>\n            ) : (\n              <Fragment>\n                <Button color=\"inherit\" component={Link} to=\"/login\">\n                  Login\n                </Button>\n                {/* <Button color=\"inherit\" component={Link} to=\"/\">\n                  Home\n                </Button> */}\n                <Button color=\"inherit\" component={Link} to=\"/signup\">\n                  Signup\n                </Button>\n              </Fragment>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nNavbar.propTypes = {\n  authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Navbar));\n","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#33c9dc\",\n      main: \"#00bcd4\",\n      dark: \"#008394\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff6333\",\n      main: \"#ff3d00\",\n      dark: \"#b22a00\",\n      contrastText: \"#fff\"\n    }\n  },\n\n  // the object to be spread\n  styleToSpread: {\n    invisibleSeparator: {\n      border: \"none\",\n      margin: 4\n    },\n    visibleColoredSeparator: {\n      width: \"100%\",\n      borderBottom: \"1px solid rgba(128,128,128,0.5)\",\n      marginBottom: 5,\n      marginTop: 10\n    },\n    typography: {\n      useNextVariants: true\n    },\n    image: {\n      margin: \"20px auto 20px auto\"\n    },\n    button: {\n      marginTop: 20,\n      position: \"relative\"\n    },\n    paper: {\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingRight: 20,\n      paddingLeft: 20,\n      marginLeft: 5,\n      marginRight: 5\n    },\n    paperHints: {\n      order: 1,\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingRight: 20,\n      paddingLeft: 20\n    },\n    profileInfoItem: {\n      display: \"inline-flex\",\n      flexWrap: \"wrap\"\n    },\n    profile: {\n      \"& .image-wrapper\": {\n        textAlign: \"center\",\n        position: \"relative\",\n        \"& button\": {\n          position: \"absolute\",\n          top: \"80%\",\n          left: \"70%\"\n        }\n      },\n      \"& .profile-image\": {\n        width: 200,\n        height: 200,\n        objectFit: \"cover\",\n        maxWidth: \"100%\",\n        borderRadius: \"50%\"\n      },\n      \"& .profile-details\": {\n        \"& span, svg\": {\n          verticalAlign: \"middle\"\n        },\n        \"& a\": {\n          color: \"#008394\"\n        }\n      },\n\n      \"& .userName\": {\n        fontFamily: \"'Courgette', cursive\",\n\n        display: \"block\",\n        textAlign: \"center\",\n        marginLeft: \" auto\",\n        marignRight: \"auto\"\n      },\n      \"& svg.button\": {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      }\n    },\n\n    labels: {\n      color: \"#00bcd4\",\n      marginRight: 6\n    },\n    userDetailsIcons: {\n      color: \"#00bcd4\",\n      marginRight: 7\n    },\n    buttons: {\n      textAlign: \"center\",\n      \"& a\": {\n        margin: \"20px 10px\"\n      }\n    },\n    root: {\n      flexGrow: 1\n    },\n    logo: {\n      marginRight: 15,\n      marginTop: 15\n    },\n    title: {\n      fontFamily: \"'Courgette', cursive\",\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      color: \"#fff\",\n      fontWeight: \"Bold\",\n      fontSize: \"2.8rem\"\n    }\n  },\n\n  editDetails: {\n    button: { float: \"right\" },\n    paper: {\n      padding: 20\n    },\n    title: {\n      color: \"#00bcd4\",\n      fontFamily: \"'Courgette', cursive\"\n    }\n  },\n\n  staticProfile: {\n    invisibleSeparator: {\n      border: \"none\",\n      margin: 4\n    },\n    visibleColoredSeparator: {\n      width: \"100%\",\n      borderBottom: \"1px solid rgba(128,128,128,0.5)\",\n      marginBottom: 5,\n      marginTop: 10\n    },\n    typography: {\n      useNextVariants: true\n    },\n    image: {\n      margin: \"20px auto 20px auto\"\n    },\n    button: {\n      marginTop: 20,\n      position: \"relative\"\n    },\n    paper: {\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingRight: 20,\n      paddingLeft: 20,\n      marginLeft: 5,\n      marginRight: 5\n    },\n    profileInfoItem: {\n      display: \"inline-flex\",\n      flexWrap: \"wrap\"\n    },\n    profile: {\n      \"& .image-wrapper\": {\n        textAlign: \"center\",\n        position: \"relative\",\n        \"& button\": {\n          position: \"absolute\",\n          top: \"80%\",\n          left: \"70%\"\n        }\n      },\n      \"& .profile-image\": {\n        width: 200,\n        height: 200,\n        objectFit: \"cover\",\n        maxWidth: \"100%\",\n        borderRadius: \"50%\"\n      },\n      \"& .profile-details\": {\n        \"& span, svg\": {\n          verticalAlign: \"middle\"\n        },\n        \"& a\": {\n          color: \"#008394\"\n        }\n      },\n\n      \"& .userName\": {\n        fontFamily: \"'Courgette', cursive\",\n\n        display: \"block\",\n        textAlign: \"center\",\n        marginLeft: \" auto\",\n        marignRight: \"auto\"\n      },\n      \"& svg.button\": {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      }\n    },\n\n    labels: {\n      color: \"#00bcd4\",\n      marginRight: 6\n    },\n    userDetailsIcons: {\n      color: \"#00bcd4\",\n      marginRight: 7\n    },\n    buttons: {\n      textAlign: \"center\",\n      \"& a\": {\n        margin: \"20px 10px\"\n      }\n    }\n  },\n\n  comments: {\n    commentImage: {\n      maxWidth: \"95%\",\n      height: 100,\n      objectFit: \"cover\",\n      borderRadius: \"50%\"\n    },\n    commentData: {\n      marginLeft: 10\n    },\n    commentBlock: {\n      border: \"2px solid rgb(0,\t188,\t212)\",\n      borderRadius: 5,\n      padding: 5,\n      margin: 5,\n      width: \"100%\"\n    },\n    userHandle: {\n      fontFamily: \"'Courgette', cursive\"\n    }\n  },\n\n  deleteRoar: {\n    deleteButton: {\n      position: \"absolute\",\n      left: \"90%\",\n      top: \"10%\"\n    }\n  },\n\n  postRoar: {\n    paper: {\n      padding: 10\n    },\n    profile: {\n      \"& .image-wrapper\": {\n        textAlign: \"center\",\n        position: \"relative\",\n        \"& button\": {\n          position: \"absolute\",\n          top: \"80%\",\n          left: \"70%\"\n        }\n      },\n      \"& .profile-image\": {\n        width: 200,\n        height: 200,\n        objectFit: \"cover\",\n        maxWidth: \"100%\",\n        borderRadius: \"50%\"\n      },\n      \"& .profile-details\": {\n        textAlign: \"center\",\n        \"& span, svg\": {\n          verticalAlign: \"middle\"\n        },\n        \"& a\": {\n          color: \"#00bcd4\"\n        }\n      },\n      \"& hr\": {\n        border: \"none\",\n        margin: \"0 0 10px 0\"\n      },\n      \"& svg.button\": {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      }\n    },\n    submitButton: {\n      position: \"relative\",\n      float: \"right\",\n      marginTop: 10\n    },\n    progressSpinner: {\n      position: \"absolute\"\n    },\n    closeButton: {\n      position: \"absolute\",\n      left: \"91%\",\n      top: \"6%\"\n    }\n  },\n\n  roar: {\n    card: {\n      position: \"relative\",\n      display: \"flex\",\n      marginBottom: 20,\n      marginLeft: 5,\n      marginRight: 5\n    },\n    image: {\n      minWidth: \"30%\"\n    },\n    content: {\n      padding: 25,\n      objectFit: \"cover\"\n    },\n    userhandle: {\n      fontFamily: \"'Courgette', cursive\",\n      fontSize: \"1.8rem\",\n      margin: \"10px auto 10px auto\",\n      color: \"#00bcd4\"\n    },\n    roarbuttons: {\n      display: \"inline-flex\",\n      alignItems: \"center\"\n    }\n  },\n\n  roarDialog: {\n    invisibleSeparator: {\n      border: \"none\",\n      margin: 4\n    },\n    profileImage: {\n      maxWidth: 180,\n      height: 180,\n      borderRadius: \"50%\",\n      objectFit: \"cover\"\n    },\n    dialogContent: {\n      padding: 20\n    },\n    closeButton: {\n      position: \"absolute\",\n      left: \"90%\"\n    },\n    expandButton: {\n      position: \"absolute\",\n      left: \"90%\"\n    },\n    spinnerDiv: {\n      textAlign: \"center\",\n      marginTop: 50,\n      marginBottom: 50\n    },\n    userHandle: {\n      fontFamily: \"'Courgette', cursive\"\n    },\n    roarbuttons: {\n      // display: \"inline-block\"\n    }\n  },\n\n  login: {\n    paper: {\n      padding: 20,\n      borderRadius: 10\n    },\n    form: {\n      margin: \"0 auto\",\n      textAlign: \"center\"\n    },\n    image: {\n      display: \"block\",\n      margin: \"20px auto 20px auto\"\n    },\n    pageTitle: {\n      fontFamily: \"'Courgette', cursive\",\n      fontWeight: \"Bold\",\n      fontSize: \"4.8rem\",\n      margin: \"10px auto 10px auto\",\n      color: \"#00bcd4\"\n    },\n    textField: {\n      margin: \"10px auto 10px auto\"\n    },\n    button: {\n      marginTop: 20,\n      position: \"relative\" // because of progress\n    },\n    customError: {\n      color: \"red\",\n      fontSize: \"0.8rem\",\n      marginTop: \"10\"\n    },\n    progress: {\n      position: \"absolute\"\n    }\n  },\n\n  signup: {\n    paper: {\n      padding: 20,\n      borderRadius: 10\n    },\n    form: {\n      // justifyContent: \"center\",\n      margin: \"0 auto\",\n      textAlign: \"center\"\n    },\n    image: {\n      margin: \"20px auto 20px auto\"\n    },\n    pageTitle: {\n      fontFamily: \"'Courgette', cursive\",\n      fontWeight: \"Bold\",\n      fontSize: \"4.8rem\",\n      margin: \"10px auto 10px auto\",\n      color: \"#00bcd4\"\n    },\n    textField: {\n      margin: \"10px auto 10px auto\"\n    },\n    button: {\n      marginTop: 20,\n      marginBottom: 10,\n      position: \"relative\" // because of progress\n    },\n    customError: {\n      color: \"red\",\n      fontSize: \"0.8rem\",\n      marginTop: \"10\"\n    },\n    progress: {\n      position: \"absolute\"\n    }\n  },\n\n  profileSkeleton: {\n    profile: {\n      \"& .image-wrapper\": {\n        textAlign: \"center\",\n        position: \"relative\",\n        \"& button\": {\n          position: \"absolute\",\n          top: \"80%\",\n          left: \"70%\"\n        }\n      },\n      \"& .profile-image\": {\n        width: 200,\n        height: 200,\n        objectFit: \"cover\",\n        maxWidth: \"100%\",\n        borderRadius: \"50%\"\n      },\n      \"& .profile-details\": {\n        \"& span, svg\": {\n          verticalAlign: \"middle\"\n        },\n        \"& a\": {\n          color: \"#008394\"\n        }\n      },\n\n      \"& .userName\": {\n        display: \"block\",\n        textAlign: \"center\",\n        marginLeft: \" auto\",\n        marignRight: \"auto\"\n      },\n      \"& svg.button\": {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      }\n    },\n    handle: {\n      height: 20,\n      // backgroundColor: theme.palette.primary.main,\n      width: 60,\n      margin: \"0 auto 7px auto\"\n    },\n    fullLine: {\n      height: 15,\n      backgroundColor: \"rgba(0,0,0,0.6)\",\n      width: \"100%\",\n      marginBottom: 10\n    },\n    halfLine: {\n      height: 15,\n      backgroundColor: \"rgba(0,0,0,0.6)\",\n      width: \"50%\",\n      marginBottom: 10\n    }\n  },\n\n  roarSkeleton: {\n    card: {\n      display: \"flex\",\n      marginBottom: 20,\n      marginLeft: 5,\n      marginRight: 5\n    },\n    cardContent: {\n      width: \"100%\",\n      flexDirection: \"column\",\n      padding: 25\n    },\n    cover: {\n      minWidth: 200,\n      objectFit: \"cover\"\n    },\n    handle: {\n      width: 60,\n      height: 18,\n      // backgroundColor: theme.palette.primary.main,\n      marginBottom: 7\n    },\n    date: {\n      height: 14,\n      width: 100,\n      backgroundColor: \"rgba(0,0,0, 0.3)\",\n      marginBottom: 10\n    },\n    fullLine: {\n      height: 15,\n      width: \"90%\",\n      backgroundColor: \"rgba(0,0,0, 0.6)\",\n      marginBottom: 10\n    },\n    halfLine: {\n      height: 15,\n      width: \"50%\",\n      backgroundColor: \"rgba(0,0,0, 0.6)\",\n      marginBottom: 10\n    }\n  }\n});\nexport default theme;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      authenticated === true ? <Redirect to=\"/roar-social-network\" /> : <Component {...props} />\n    }\n  />\n);\nconst mapStateToProps = state => ({\n  authenticated: state.user.authenticated\n});\n\nAuthRoute.propTypes = {\n  user: PropTypes.object\n};\nexport default connect(mapStateToProps)(AuthRoute);\n","import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\n\n//MUI\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\n//Redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n\n// Pages\nimport home from \"./pages/home\";\nimport login from \"./pages/login\";\nimport signup from \"./pages/signup\";\nimport user from \"./pages/user\";\n\n//components\nimport NavBar from \"./components/layout/NavBar\";\nimport themeFile from \"./util/theme\";\nimport AuthRoute from \"./util/AuthRoute\";\n\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport \"./App.css\";\n\n//google Analytics\nimport ReactGA from \"react-ga\";\n\n// function initializeReactGA() {\nReactGA.initialize(\"UA-149180300-1\");\nReactGA.pageview(window.location.pathname + window.location.search);\n\nReactGA.pageview(\"/signup\");\nReactGA.pageview(\"/roar-social-network\");\nReactGA.pageview(\"/login\");\n\n\n// }\n\nconst theme = createMuiTheme(themeFile);\n\naxios.defaults.baseURL =\n  \"https://us-central1-socialapp-dfb2e.cloudfunctions.net/api\";\n// instal jwt-decode library to decode the token\n\nconst token = localStorage.getItem(\"FireBaseIdToken\");\n// console.log(\"token is : \" + token);\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n  // console.log(\"here is the decoded token : \", decodedToken);\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n          <Router>\n            <NavBar />\n            <div className=\"container\">\n              <Switch>\n                <Route exact path=\"/roar-social-network\" component={home} />\n                <AuthRoute exact path=\"/login\" component={login} />\n                <AuthRoute exact path=\"/signup\" component={signup} />\n                <Route exact path=\"/user/:handle\" component={user} />\n                <Route\n                  exact\n                  path=\"/users/:handle/roar/:roarId\"\n                  component={user}\n                />\n                <Redirect from=\"/\" exact to=\"/roar-social-network\" />\n              </Switch>\n            </div>\n           \n          </Router>\n        </Provider>\n      </MuiThemeProvider>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { startWebsocketConnection } from '../src/chat-client/websocket'\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\nstartWebsocketConnection()","module.exports = __webpack_public_path__ + \"static/media/brandLogo.06abb691.png\";","module.exports = __webpack_public_path__ + \"static/media/no-img.6732bd42.png\";"],"sourceRoot":""}